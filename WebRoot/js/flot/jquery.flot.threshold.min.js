(function(l){l.plot.plugins.push({init:function(j){j.hooks.processDatapoints.push(function(j,a,k){if(a.threshold){var e=k.pointsize,f,g,b,h,c=l.extend({},a);c.datapoints={points:[],pointsize:e};c.label=null;c.color=a.threshold.color;c.threshold=null;c.originSeries=a;c.data=[];var i=a.threshold.below,d=k.points,o=a.lines.show;threspoints=[];newpoints=[];for(a=0;a<d.length;a+=e){f=d[a];g=d[a+1];h=b;b=g<i?threspoints:newpoints;if(o&&h!=b&&null!=f&&0<a&&null!=d[a-e]){var n=(f-d[a-e])/(g-d[a-e+1])*(i-
g)+f;h.push(n);h.push(i);for(m=2;m<e;++m)h.push(d[a+m]);b.push(null);b.push(null);for(m=2;m<e;++m)b.push(d[a+m]);b.push(n);b.push(i);for(m=2;m<e;++m)b.push(d[a+m])}b.push(f);b.push(g)}k.points=newpoints;c.datapoints.points=threspoints;0<c.datapoints.points.length&&j.getData().push(c)}})},options:{series:{threshold:null}},name:"threshold",version:"1.0"})})(jQuery);
