(function(h){function b(a){var f=this,c,e=a.data||{};if(e.elem)f=a.dragTarget=e.elem,a.dragProxy=d.proxy||f,a.cursorOffsetX=e.pageX-e.left,a.cursorOffsetY=e.pageY-e.top,a.offsetX=a.pageX-a.cursorOffsetX,a.offsetY=a.pageY-a.cursorOffsetY;else if(d.dragging||0<e.which&&a.which!=e.which||h(a.target).is(e.not))return;switch(a.type){case "mousedown":return h.extend(e,h(f).offset(),{elem:f,target:a.target,pageX:a.pageX,pageY:a.pageY}),j.add(document,"mousemove mouseup",b,e),m(f,!1),d.dragging=null,!1;case !d.dragging&&
"mousemove":if(Math.pow(a.pageX-e.pageX,2)+Math.pow(a.pageY-e.pageY,2)<e.distance)break;a.target=e.target;c=g(a,"dragstart",f);!1!==c&&(d.dragging=f,d.proxy=a.dragProxy=h(c||f)[0]);case "mousemove":if(d.dragging){c=g(a,"drag",f);k.drop&&(k.drop.allowed=!1!==c,k.drop.handler(a));if(!1!==c)break;a.type="mouseup"}case "mouseup":j.remove(document,"mousemove mouseup",b),d.dragging&&(k.drop&&k.drop.handler(a),g(a,"dragend",f)),m(f,!0),d.dragging=d.proxy=e.elem=!1}return!0}function g(a,b,c){a.type=b;b=h.event.handle.call(c,
a);return!1===b?!1:b||a.result}function c(){return!1===d.dragging}function m(a,b){a&&(a.unselectable=b?"off":"on",a.onselectstart=function(){return b},a.style&&(a.style.MozUserSelect=b?"":"none"))}h.fn.drag=function(a,b,c){b&&this.bind("dragstart",a);c&&this.bind("dragend",c);return!a?this.trigger("drag"):this.bind("drag",b?b:a)};var j=h.event,k=j.special,d=k.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(a){a=h.extend({distance:d.distance,which:d.which,not:d.not},a||{});a.distance=
Math.pow(a.distance,2);j.add(this,"mousedown",b,a);this.attachEvent&&this.attachEvent("ondragstart",c)},teardown:function(){j.remove(this,"mousedown",b);this===d.dragging&&(d.dragging=d.proxy=!1);m(this,!0);this.detachEvent&&this.detachEvent("ondragstart",c)}};k.dragstart=k.dragend={setup:function(){},teardown:function(){}}})(jQuery);
(function(h){function b(b){var g=[].slice.call(arguments,1),j=0,b=h.event.fix(b||window.event);b.type="mousewheel";b.wheelDelta&&(j=b.wheelDelta/120);b.detail&&(j=-b.detail/3);g.unshift(b,j);return h.event.handle.apply(this,g)}var g=["DOMMouseScroll","mousewheel"];h.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var c=g.length;c;)this.addEventListener(g[--c],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var c=g.length;c;)this.removeEventListener(g[--c],
b,!1);else this.onmousewheel=null}};h.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);
(function(h){h.plot.plugins.push({init:function(b){function g(e,a){var c=b.offset();c.left=e.pageX-c.left;c.top=e.pageY-c.top;a?b.zoomOut({center:c}):b.zoom({center:c})}function c(b,a){g(b,0>a);return!1}function m(e){if(1!=e.which)return!1;var i=b.getPlaceholder().css("cursor");i&&(d=i);b.getPlaceholder().css("cursor",b.getOptions().pan.cursor);a=e.pageX;f=e.pageY}function j(e){var i=b.getOptions().pan.frameRate;!l&&i&&(l=setTimeout(function(){b.pan({left:a-e.pageX,top:f-e.pageY});a=e.pageX;f=e.pageY;
l=null},1E3*(1/i)))}function k(e){l&&(clearTimeout(l),l=null);b.getPlaceholder().css("cursor",d);b.pan({left:a-e.pageX,top:f-e.pageY})}var d="default",a=0,f=0,l=null;b.zoomOut=function(a){a||(a={});a.amount||(a.amount=b.getOptions().zoom.amount);a.amount=1/a.amount;b.zoom(a)};b.zoom=function(a){a||(a={});var i=a.center,c=a.amount||b.getOptions().zoom.amount,d=b.width(),f=b.height();i||(i={left:d/2,top:f/2});var g=i.left/d,j=i.top/f,k={x:{min:i.left-g*d/c,max:i.left+(1-g)*d/c},y:{min:i.top-j*f/c,max:i.top+
(1-j)*f/c}};h.each(b.getAxes(),function(a,b){var e=b.options,c=k[b.direction].min,i=k[b.direction].max,d=e.zoomRange;if(!1!==d){c=b.c2p(c);i=b.c2p(i);if(c>i)var f=c,c=i,i=f;f=i-c;if(!d||!(null!=d[0]&&f<d[0]||null!=d[1]&&f>d[1]))e.min=c,e.max=i}});b.setupGrid();b.draw();a.preventEvent||b.getPlaceholder().trigger("plotzoom",[b])};b.pan=function(a){var c={x:+a.left,y:+a.top};isNaN(c.x)&&(c.x=0);isNaN(c.y)&&(c.y=0);h.each(b.getAxes(),function(a,b){var e=b.options,d,f,g=c[b.direction];d=b.c2p(b.p2c(b.min)+
g);f=b.c2p(b.p2c(b.max)+g);var h=e.panRange;if(h!==false){if(h){if(h[0]!=null&&h[0]>d){g=h[0]-d;d=d+g;f=f+g}if(h[1]!=null&&h[1]<f){g=h[1]-f;d=d+g;f=f+g}}e.min=d;e.max=f}});b.setupGrid();b.draw();a.preventEvent||b.getPlaceholder().trigger("plotpan",[b])};b.hooks.bindEvents.push(function(b,a){var d=b.getOptions();d.zoom.interactive&&(a[d.zoom.trigger](g),a.mousewheel(c));d.pan.interactive&&(a.bind("dragstart",{distance:10},m),a.bind("drag",j),a.bind("dragend",k))});b.hooks.shutdown.push(function(b,
a){a.unbind(b.getOptions().zoom.trigger,g);a.unbind("mousewheel",c);a.unbind("dragstart",m);a.unbind("drag",j);a.unbind("dragend",k);l&&clearTimeout(l)})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}},name:"navigate",version:"1.3"})})(jQuery);
