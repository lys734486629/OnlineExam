(function(e){function t(j,l,g){j=j.getPlotOffset();if(g.images&&g.images.show)for(var f=g.datapoints.points,e=g.datapoints.pointsize,i=0;i<f.length;i+=e){var k=f[i],a=f[i+1],c=f[i+2],b=f[i+3],d=f[i+4],m=g.xaxis,n=g.yaxis,h;if(k&&!(0>=k.width||0>=k.height))if(a>b&&(h=b,b=a,a=h),c>d&&(h=d,d=c,c=h),"center"==g.images.anchor&&(h=0.5*(b-a)/(k.width-1),a-=h,b+=h,h=0.5*(d-c)/(k.height-1),c-=h,d+=h),!(a==b||c==d||a>=m.max||b<=m.min||c>=n.max||d<=n.min)){var o=0,p=0,q=k.width,r=k.height;a<m.min&&(o+=(q-o)*
(m.min-a)/(b-a),a=m.min);b>m.max&&(q+=(q-o)*(m.max-b)/(b-a),b=m.max);c<n.min&&(r+=(p-r)*(n.min-c)/(d-c),c=n.min);d>n.max&&(p+=(p-r)*(n.max-d)/(d-c),d=n.max);a=m.p2c(a);b=m.p2c(b);c=n.p2c(c);d=n.p2c(d);a>b&&(h=b,b=a,a=h);c>d&&(h=d,d=c,c=h);h=l.globalAlpha;l.globalAlpha*=g.images.alpha;l.drawImage(k,o,p,q-o,r-p,a+j.left,c+j.top,b-a,d-c);l.globalAlpha=h}}}function u(j,e,g,f){e.images.show&&(f.format=[{required:!0},{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0},{x:!0,number:!0,required:!0},
{y:!0,number:!0,required:!0}])}e.plot.image={};e.plot.image.loadDataImages=function(j,l,g){var f=[],s=[],i=l.series.images.show;e.each(j,function(g,a){if(i||a.images.show)a.data&&(a=a.data),e.each(a,function(a,b){if(typeof b[0]=="string"){f.push(b[0]);s.push(b)}})});e.plot.image.load(f,function(f){e.each(s,function(a,c){var b=c[0];f[b]&&(c[0]=f[b])});g()})};e.plot.image.load=function(j,l){var g=j.length,f={};0==g&&l({});e.each(j,function(j,i){var k=function(){--g;f[i]=this;0==g&&l(f)};e("<img />").load(k).error(k).attr("src",
i)})};e.plot.plugins.push({init:function(e){e.hooks.processRawData.push(u);e.hooks.drawSeries.push(t)},options:{series:{images:{show:!1,alpha:1,anchor:"corner"}}},name:"image",version:"1.1"})})(jQuery);
