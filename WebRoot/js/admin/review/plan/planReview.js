var planReviewObj={searchSubmit:function(){var b={user_data:$.trim($("#user_data").val()),desc_cn:$.trim($("#desc_cn").val())};""===b.user_data&&delete b.user_data;""===b.desc_cn||!$("#desc_cn").attr("key")?delete b.desc_cn:b.desc_cn=$("#desc_cn").attr("key");var c=window.L.extension.pageTable.classObj,a=document.getElementById("reviewPlanUserPageTable"),d=c.params(a);d.searchData=b;c.params(a,d,!0);this.filterPlanCoursePageTable(b)},filterPlanCoursePageTable:function(b){var c=window.L.extension.pageTable.classObj,
a=document.getElementById("reviewPlanCoursePageTable"),d=c.params(a);d.searchData=b;c.params(a,d,!0)},getGroupListTreeClickFun:function(b){getTree({targetId:"desc_cn",callbackFn:function(c,a){$(b).attr("key",c).val(a)},dataType:"group",isExpand:!1,showRoot:!1})},updatePlanReviewClickFun:function(b,c){var a=window.L.extension.pageTable.classObj,d=document.getElementById(c),e={reviewList:[]},f;"object"===typeof b?(b.reviewStatus="1"===b.reviewStatus?"0":"1",e.reviewList[0]=b):a.eachTbody(d,"*",0,function(a){$("input:checked",
a.tdObj).each(function(){f=$(this).attr("key").split(":");e.reviewList[e.reviewList.length]={reviewStatus:b,p_id:f[0],c_id:f[2]||"",user_id:f[1]}})});e.reviewList.length&&$.post("?a=updatePlanReview",e,function(){a.load(d)})}};
window.L.strVar("L.extension.pageTable.callback.initLoadList[]",window.L.strVar("L.extension.pageTable.callback.afterLoadList[]",function(b,c){var a;"reviewPlanUserPageTable"===b.id?c.eachTbody(b,"*",7,function(b){a=b.tdObj.innerHTML.split(":");a[4]="<a href=\"#\" onclick=\"planReviewObj.updatePlanReviewClickFun({'reviewStatus' : '"+a[0]+"', 'p_id' : '"+a[1]+"', 'c_id' : '', 'user_id' : '"+a[2]+"'}, 'reviewPlanUserPageTable'); return false;\">";a[4]="0"===a[0]?a[4]+window.L.getText("\u672a\u901a\u8fc7"):
a[4]+window.L.getText("\u5df2\u901a\u8fc7");b.tdObj.innerHTML=a[4]}):"reviewPlanCoursePageTable"===b.id&&(c.eachTbody(b,"*",6,function(b){a=b.tdObj.innerHTML.split(":");"3"===a[0]?a[4]=window.L.getText("\u7981\u6b62\u64cd\u4f5c"):(a[4]="<a href=\"#\" onclick=\"planReviewObj.updatePlanReviewClickFun({'reviewStatus' : '"+a[0]+"', 'p_id' : '"+a[1]+"', 'c_id' : '"+a[3]+"', 'user_id' : '"+a[2]+"'}, 'reviewPlanCoursePageTable'); return false;\">",a[4]="0"===a[0]?a[4]+window.L.getText("\u672a\u901a\u8fc7"):
a[4]+window.L.getText("\u5df2\u901a\u8fc7"),a[4]+="</a>");b.tdObj.innerHTML=a[4]}),c.eachTbody(b,"*",0,function(b){a=$("input",b.tdObj);"0"===a.attr("teacher_pass")&&a.remove()}))}));
