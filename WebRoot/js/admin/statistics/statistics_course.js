$(function(){window.L.openCom("wDate",{obj:document.getElementById("min_study_tm"),params:{readOnly:!0}});window.L.openCom("wDate",{obj:document.getElementById("max_study_tm"),params:{readOnly:!0}});courseStatisticsObj.categoryECharts()});
var courseStatisticsObj={searchSubmit:function(){var a={c_name:$.trim($("#c_name").val()),desc_cn:$.trim($("#desc_cn").val()),min_study_tm:$.trim($("#min_study_tm").val()),max_study_tm:$.trim($("#max_study_tm").val())};""===a.c_name&&delete a.c_name;""===a.desc_cn||!$("#desc_cn").attr("key")?delete a.desc_cn:a.desc_cn=$("#desc_cn").attr("key");""===a.min_study_tm&&delete a.min_study_tm;""===a.max_study_tm&&delete a.max_study_tm;var b=window.L.extension.pageTable.classObj,c=document.getElementById("courseStatisticsList"),
d=b.params(c);d.searchData=a;b.params(c,d,!0)},getCategoryListTreeClickFun:function(a){getTree({targetId:"desc_cn",callbackFn:function(b){window.L.each(b,function(a,b){idList[a]=b[a].id;nameList[a]=b[a].name},idList=[],nameList=[]);$(a).attr("key",idList.join(",")).val(nameList.join(","))},dataType:"course_category",isExpand:!1,showRoot:!1,isCheckBox:!0,chkboxType:{Y:"s",N:"ps"}})},getGroupListTreeClickFun:function(a){getTree({targetId:"group_id",callbackFn:function(b,c){$(a).attr("key",b).val(c)},
dataType:"group",isExpand:!1,showRoot:!1,expandLevel:2,chkboxType:{Y:"",N:""}})},getDetailedClickFun:function(a,b){"actual"===a?window.L.openCom("oDialogDiv")(window.L.getText("\u5f53\u524d\u5b66\u4e60\u4eba\u6570"),"iframe:"+window.L._adminUrl+"/course/course.php?a=learningStatisticsDetailed&type=actual&key="+b):"should"===a&&window.L.openCom("oDialogDiv")(window.L.getText("\u5e94\u8be5\u5b66\u4e60\u4eba\u6570"),"iframe:"+window.L._adminUrl+"/course/course.php?a=learningStatisticsDetailed&type=should&key="+
b)},categoryECharts:function(){window.L.openCom("categoryeCharts",{obj:document.getElementById("eChartsMain"),setOption:{tooltip:{trigger:"pie"},toolbox:{show:!0,feature:{mark:!0,dataView:{readOnly:!0},restore:!0,saveAsImage:!0}},calculable:!1,series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:[0,110],center:["50%",225],data:[{value:335,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:310,name:"\u90ae\u4ef6\u8425\u9500"},{value:234,name:"\u8054\u76df\u5e7f\u544a"},{value:135,name:"\u89c6\u9891\u5e7f\u544a"},
{value:1548,name:"\u641c\u7d22\u5f15\u64ce"}]}]}})},statisticsOr:function(a,b,c,d,e,f,g,h,i,j){if(window.L.openCom("oDialogDiv")){var k=window.L._adminUrl+"/statistics/statisticsCtl.php?";ALERT_DIV_MARK=oDialogDiv(window.L.getText("\u8bfe\u7a0b\u7edf\u8ba1\uff0d\u673a\u6784\u7edf\u8ba1"),"iframe:"+k+"{'get':{'a':'courseStatisticsOrganization'}, 'post' : { 'c_id':'"+a+"','c_name':'"+b+"','learningNum':'"+c+"','learnNum' :'"+d+"','grade' :'"+e+"','popularize':'"+f+"','pass':'"+g+"','desc_cn' :'"+h+
"','passNum' :'"+i+"','avgTime' :'"+j+"'}}","1000px","600px",[1],10,!0)}}};
