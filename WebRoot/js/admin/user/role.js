function show_role(a){$("#role_contents").find("div").each(function(){""!=$(this).attr("id")&&($(this).attr("id")!=a?$(this).hide():$(this).show())});var b=a.split("_");$("#role").find("li").each(function(){""!=$(this).attr("id")&&$(this).attr("id")!=b[1]?$(this).css("background-color","#B9BFCA"):($(this).css("background-color","#E6EAE9"),$(this).css("border-bottom-style","none"))})}
function role_validate_data(){var a=!1;if(""==$("#role_name").val())return oDialogDivInfo(window.L.getText("\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0\uff01")),$("#role_name").focus(),!1;$(".tab_content").find("input:checkbox").each(function(){$(this).attr("checked")&&(a=!0)});return!a?(oDialogDivInfo(window.L.getText("\u8bf7\u9009\u62e9\u89d2\u8272\u5bf9\u5e94\u7684\u6743\u9650\uff01")),!1):!0}
function get_role_data(){var a="",a=a+$("#role_name").val(),a=a+("&"+$("#role_desc").val()),a=a+"&";$(".tab_content").find("input:checkbox").each(function(){$(this).attr("checked")&&(a+=$(this).attr("id")+",")});return a=a.substr(0,a.length-1)}
function save_role(){role_validate_data()&&$.ajax({url:"./userControllers.php?a=insert_role",type:"post",dataType:"html",timeout:2E4,data:{formData:get_role_data()},success:function(a){clear_obj();"1"==a?oDialogDivInfo(window.L.getText("\u89d2\u8272\u6dfb\u52a0\u6210\u529f")):oDialogDivInfo(a)}})}
function show_edit_role_page(a){window.parent.open_loading();$.ajax({url:window.L._adminUrl+"/data/role/",type:"post",dataType:"html",timeout:2E3,data:"action=display_update_role&role_id="+a,error:function(){window.parent.close_loading()},success:function(a){$("#content").html(a);show_role("role_0405");window.parent.close_loading()}})}
function update_role(){role_validate_data()&&(window.parent.open_saving(),$.ajax({url:window.L._adminUrl+"/data/role/",type:"post",dataType:"html",timeout:2E4,data:"action=update_role"+get_update_role_data(),error:function(){window.parent.close_saving()},success:function(a){window.parent.close_saving();"1"==a?window.parent.open_status(window.L.getText("\u66f4\u65b0\u6210\u529f\uff01")):window.parent.open_status(window.L.getText("\u66f4\u65b0\u5931\u8d25\uff01\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u3002"))}}))}
function get_update_role_data(){var a="",a=a+("&role_id="+$("#role_id").val()),a=a+("&role_name="+$("#role_name").val()),a=a+("&role_desc="+$("#role_desc").val()),a=a+"&role_value=";$("#role_contents").find("input:checkbox").each(function(){$(this).attr("checked")&&(a+=$(this).attr("id")+",")});return a=a.substr(0,a.length-1)}function close_role(){window.parent.show_tpl(window.L._adminUrl+"/data/role/","action=display_search_role","content");window.parent.highlight_item("item37","data")}
function reset_obj(){$("#role_name").val("");$("#role_desc").val("")}function hide_tag(){$("#save_tag").hide();$("#save_tag").html("");$("#delete_tag").hide();$("#delete_tag").html("");$("#update_tag").hide();$("#update_tag").html("")}function clear_obj(){$("#role_name").val("");$("#role_desc").val("");$(".tab_content").find("input:checkbox").each(function(){$(this).attr("checked",!1)})}
function operate_module(a){switch(a){case "060102":$("#060103").attr("checked",!1);$("#060104").attr("checked",!1);break;case "060103":$("#060102").attr("checked",!1);$("#060104").attr("checked",!1);break;case "060104":$("#060103").attr("checked",!1);$("#060102").attr("checked",!1);break;case "060105":$("#060106").attr("checked",!1);$("#060107").attr("checked",!1);break;case "060106":$("#060105").attr("checked",!1);$("#060107").attr("checked",!1);break;case "060107":$("#060105").attr("checked",!1);
$("#060106").attr("checked",!1);break;case "060202":$("#060203").attr("checked",!1);$("#060204").attr("checked",!1);break;case "060203":$("#060202").attr("checked",!1);$("#060204").attr("checked",!1);break;case "060204":$("#060203").attr("checked",!1);$("#060202").attr("checked",!1);break;case "060302":$("#060303").attr("checked",!1);$("#060304").attr("checked",!1);break;case "060303":$("#060302").attr("checked",!1);$("#060304").attr("checked",!1);break;case "060304":$("#060303").attr("checked",!1);
$("#060302").attr("checked",!1);break;case "060305":$("#060306").attr("checked",!1);break;case "060306":$("#060305").attr("checked",!1);break;case "060307":$("#060308").attr("checked",!1);break;case "060308":$("#060307").attr("checked",!1);break;case "060402":$("#060403").attr("checked",!1);$("#060404").attr("checked",!1);break;case "060403":$("#060402").attr("checked",!1);$("#060404").attr("checked",!1);break;case "060404":$("#060403").attr("checked",!1);$("#060402").attr("checked",!1);break;case "060501":$("#060502").attr("checked",
!1);break;case "060502":$("#060501").attr("checked",!1);break;case "060503":$("#060504").attr("checked",!1);$("#060505").attr("checked",!1);break;case "060504":$("#060503").attr("checked",!1);$("#060505").attr("checked",!1);break;case "060505":$("#060503").attr("checked",!1);$("#060504").attr("checked",!1);break;case "060506":$("#060507").attr("checked",!1);$("#060508").attr("checked",!1);break;case "060507":$("#060506").attr("checked",!1);$("#060508").attr("checked",!1);break;case "060508":$("#060507").attr("checked",
!1);$("#060506").attr("checked",!1);break;case "060701":$("#060702").attr("checked",!1);break;case "060702":$("#060701").attr("checked",!1);break;case "060703":$("#060704").attr("checked",!1);break;case "060704":$("#060703").attr("checked",!1);break;case "060705":$("#060706").attr("checked",!1);break;case "060706":$("#060705").attr("checked",!1);break;case "060801":$("#060802").attr("checked",!1);break;case "060802":$("#060801").attr("checked",!1);break;case "060901":$("#060902").attr("checked",!1);
break;case "060902":$("#060901").attr("checked",!1);break;case "060903":$("#060904").attr("checked",!1);break;case "060904":$("#060903").attr("checked",!1);break;case "061401":$("#061403").attr("checked",!1);break;case "061403":$("#061401").attr("checked",!1);break;case "061402":$("#061404").attr("checked",!1);break;case "061404":$("#061402").attr("checked",!1);break;case "061601":$("#061602").attr("checked",!1);break;case "061602":$("#061601").attr("checked",!1);break;case "061603":$("#061604").attr("checked",
!1);break;case "061604":$("#061603").attr("checked",!1)}}
function delete_role(){var a=!1,b="",d=0;$("#role_list").find("input:checkbox").each(function(){$(this).attr("checked")&&(a=!0,b+="'"+$(this).val()+"',",d++)});if(a){if(b=b.substr(0,b.length-1),c=window.confirm(window.L.getText("\u786e\u8ba4\u8981\u5220\u9664\u8fd9")+d+window.L.getText("\u6761\u6570\u636e\uff1f")))window.parent.open_saving(),$.ajax({url:window.L._adminUrl+"/data/role/",type:"post",dataType:"html",timeout:2E4,data:"action=delete_role&role_id="+b,error:function(){window.parent.close_saving()},
success:function(a){window.parent.close_saving();$("#role_list").find("input:checkbox").each(function(){$(this).attr("checked")&&$("#r_"+$(this).val()).remove()});var b=parseInt($("#row_count").html())-parseInt(d);""==b&&(b="0");$("#row_count").html(b);"1"==a?window.parent.open_status(window.L.getText("\u5220\u9664\u6210\u529f\uff01")):window.parent.open_status(window.L.getText("\u5220\u9664\u5931\u8d25\uff01\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u3002"))}})}else oDialogDivInfo(window.L.getText("\u8bf7\u9009\u62e9\u8981\u5220\u9664\u7684\u6570\u636e\uff01"))}
function search_role(){window.parent.open_loading();$.ajax({url:window.L._adminUrl+"/data/role/",type:"post",dataType:"html",timeout:2E4,data:"action=search_role"+get_search_role_data(),error:function(){window.parent.close_loading()},success:function(a){$("#role_contents").html(a);window.parent.close_loading()}})}
function ajax_role_page_click(a){window.parent.open_loading();$.ajax({url:window.L._adminUrl+"/data/role/",type:"post",dataType:"html",timeout:2E4,data:"action=search_role"+get_search_role_data()+"&page="+a,error:function(){window.parent.close_loading()},success:function(a){$("#role_contents").html(a);window.parent.close_loading()}})}function get_search_role_data(){var a;a="&role_name="+$("#role_name").val();return a+="&role_desc="+$("#role_desc").val()};
