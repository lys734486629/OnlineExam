(function(b){b.extend({progressBar:new function(){this.defaults={increment:2,speed:15,showText:!0,width:120,boxImage:"images/progressbar/progressbar.gif",barImage:"images/progressbar/progressbar_green.gif",height:12};this.construct=function(c,f){var g=null,h=null;null!=c&&(isNaN(c)?h=c:(g=c,null!=f&&(h=f)));return this.each(function(){var d=this;if(g!=null&&this.bar!=null&&this.config!=null){this.config.tpercentage=g;if(h!=null)d.config=b.extend(this.config,h)}else{var c=b(this),e=b.extend({},b.progressBar.defaults,
h),f=g;g==null&&(f=c.html().replace("%",""));c.html("");var a=document.createElement("img"),i=document.createElement("span");a.id=this.id+"_percentImage";i.id=this.id+"_percentText";a.src=e.boxImage;a.width=e.width;a=b(a);i=b(i);this.bar=a;this.ntext=i;this.config=e;this.config.cpercentage=0;this.config.tpercentage=f;a.css("width",e.width+"px");a.css("height",e.height+"px");a.css("background-image","url("+e.barImage+")");a.css("padding","0");a.css("margin","0");c.append(a);c.append(i)}var j=setInterval(function(){var a=
d.config,b=parseInt(a.cpercentage),c=parseInt(a.tpercentage),e=parseInt(a.increment),f=d.ntext;d.bar.css("background-position",a.width*-1+b*(a.width/100)+"px 50%");a.showText&&f.html(" "+Math.round(b)+"%");b>c?d.config.cpercentage=b-e<c?0+c:d.config.cpercentage-e:d.config.cpercentage<d.config.tpercentage?d.config.cpercentage=b+e>c?c:d.config.cpercentage+e:clearInterval(j)},d.config.speed)})}}});b.fn.extend({progressBar:b.progressBar.construct})})(jQuery);
